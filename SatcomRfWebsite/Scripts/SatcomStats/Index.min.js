function getModelNames(a) { if ("default" === a) return void (document.getElementById("models").innerHTML = ""); var b = document.location.origin + "/api/ListAPI/GetModels?familyName=" + a, c = new XMLHttpRequest; c.onreadystatechange = function () { if (4 === this.readyState && 200 === this.status) { var d = JSON.parse(c.responseText), e = "<option value=\"default\" selected>Choose a model.</option><option value=\"all\">All Models.</option>"; if (null !== d) for (var f = 0; f < d.length; f++)e += "<option value=\"" + d[f] + "\">" + d[f] + "</option>"; else e = ""; document.getElementById("models").innerHTML = e } }, c.open("GET", b, !0), c.setRequestHeader("Content-Type", "application/json;charset=UTF-8"), c.send() } function getFamilies() { var a = document.location.origin + "/api/ListAPI/GetFamilies", b = new XMLHttpRequest; b.onreadystatechange = function () { if (4 === this.readyState && 200 === this.status) { for (var c = JSON.parse(b.responseText), d = "<option value=\"default\" selected>Choose a model family.</option>", e = 0; e < c.length; e++)d += "<option value=\"" + c[e] + "\">" + c[e] + "</option>"; document.getElementById("families").innerHTML = d } }, b.open("GET", a, !0), b.setRequestHeader("Content-Type", "application/json;charset=UTF-8"), b.send() } function showFail() { document.getElementById("getdata-failed").innerHTML = "<div class=\"alert alert-danger alert-dismissible fade in\" id=\"alert-failed\"><a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a><strong>Error:</strong> Failed to get data from server.</div>", document.getElementById("getdata-failed").classList.remove("hide") } function buildTable(a) { for (var d, b = "<tr><th>Testname</th><th>Channel</th><th>Min</th><th>Max</th><th>Average</th></tr>", c = 0; c < a.length; c++)d = "", d = "%" === a[c].Unit ? "%" : "X:1" === a[c].Unit ? ":1" : " " + a[c].Unit, b += "<tr><td>" + a[c].TestName + "</td><td>" + ("" === a[c].Channel ? "N/A" : a[c].Channel) + "</td><td>" + a[c].MinResult + d + "</td><td>" + a[c].MaxResult + d + "</td><td>" + a[c].AvgResult + d + "</td></tr>"; return b } function getTable(a, b) { if ("default" === a) return document.getElementById("data-display").classList.add("hide"), void (document.getElementById("data-table").innerHTML = ""); var c = document.location.origin + "/api/ListAPI/GetTableData?modelName=" + a + "&familyName=" + b, d = new XMLHttpRequest; d.onreadystatechange = function () { if (4 === this.readyState && 200 === this.status) { var e = JSON.parse(d.responseText); if (null !== e) { var f = buildTable(e); document.getElementById("data-table").classList.remove("hide"), document.getElementById("data-table").innerHTML = f, document.getElementById("getdata-loading").classList.add("hide") } else showFail() } else 4 === this.readyState && 200 !== this.status && (document.getElementById("getdata-loading").classList.add("hide"), showFail()) }, document.getElementById("data-display").classList.remove("hide"), document.getElementById("getdata-loading").classList.remove("hide"), d.open("GET", c, !0), d.setRequestHeader("Content-Type", "application/json;charset=UTF-8"), d.send() } function setupIndex() { getFamilies(), document.getElementById("statspage").classList.add("active") }