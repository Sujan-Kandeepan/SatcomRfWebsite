@model IEnumerable<SatcomRfWebsite.Models.tblSerialNumber>

@{
    ViewBag.Title = "Serial Numbers";
}

<!--<p>
    @Html.ActionLink("Create New", "Create")
</p>-->

@*section featured {*@
    <div class="row-fluid">
        <div class="container">
            <div class="page-header"><h1>Serial Numbers</h1></div>
            <div class="display" style="margin-bottom: 20px"><h3>View complete list of serial numbers with corresponding model names.</h3></div>
            <div class="row" id="search-form">
                <div class="col-sm-4"></div>
                <div class="col-sm-4" type="text" style="text-transform: uppercase">
                    <input class="form-control" id="search" placeholder="Filter by serial number or model name" />
                    <script type="text/javascript">
                        function forceKeyPressUppercase(e) {
                            var charInput = e.keyCode;
                            if ((charInput >= 97) && (charInput <= 122)) { // lowercase
                                if (!e.ctrlKey && !e.shiftKey && !e.metaKey && !e.altKEY) { // no modifier key
                                    var newChar = charInput - 32;
                                    var start = e.target.selectionStart;
                                    var end = e.target.selectionEnd;
                                    e.target.value = e.target.value.substring(0, start) + String.fromCharCode(newChar) + e.target.value.substring(end);
                                    e.target.setSelectionRange(start + 1, start + 1);
                                    e.preventDefault();
                                }
                            }
                        }
                        document.getElementById("search").addEventListener("keypress", forceKeyPressUppercase, false);
                    </script>
                </div>
                <div class="col-sm-2">
                    <button class="btn btn-primary" id="sort-by-serial" onclick="sortBySerial()">Search by Serial Number</button>
                    <script>
                        function sortBySerial() {
                            location.href = location.origin + "/serialnumbers?beginning=" + document.getElementById("search").value + "&sortby=serial";
                        }
                    </script>
                </div>
                <div class="col-sm-2">
                    <button class="btn btn-primary" id="sort-by-name" onclick="sortByName()">Search by Model Name</button>
                    <script>
                        function sortByName() {
                            location.href = location.origin + "/serialnumbers?beginning=" + document.getElementById("search").value + "&sortby=name";
                        }
                    </script>
                </div>
            </div>
            <table id="table_serialNums" class="display" width="100%">
                <thead>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.ModelSN)</th>
                        <th>@Html.DisplayNameFor(model => model.ModelName)</th>
                        <th></th>
                    </tr>
                </thead>
                <tfoot>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.ModelSN)</th>
                        <th>@Html.DisplayNameFor(model => model.ModelName)</th>
                        <th></th>
                    </tr>
                </tfoot>
                <tbody>

                    @foreach (var item in Model)
                    {

                        <tr>
                            <td>
                                <a href="/ateData/AteOutputDetail/?serNum=@Html.DisplayFor(modelItem => item.ModelSN)">@Html.DisplayFor(modelItem => item.ModelSN)</a>
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ModelName)
                            </td>
                            <td>

                                <!--@Html.ActionLink("Edit", "Edit", new { id=item.id }) |
                                @Html.ActionLink("Details", "Details", new { id=item.id }) |-->
                                @Html.ActionLink("Delete", "Delete", new { id=item.id })
                            </td>
                        </tr>
                    }
                </tbody>
            </table>

            <script>
                $(document).ready(function () {
                    $('#table_serialNums').DataTable({
                        "scrollY": 650,
                        "iDisplayLength": 50,
                        "searching": false
                    });
                });

                //Set navbar button as active
                document.getElementById("navBarSerial").classList.add("active");
            </script>
        </div>
    </div>
@*}*@